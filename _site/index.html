---
---

<!DOCTYPE html>
<html>
  <head>
    <title>Say Cheese! - QR Code Edition</title>
    <link rel="stylesheet" href="public/css/bootstrap.min.css">
    <link rel="stylesheet" href="public/css/pygments.css">
    <link rel="stylesheet" href="public/css/say-cheese.css">
  </head>

  <body>

    <div class="container">
      <div class="row">
        <div class="span12">
          <h1>Say Cheese! - QR Code Edition</h1>
          <p class="lead">Minimal javascript library for integrating a webcam and snapshots into your app.</p>
        </div>
      </div>


      <div class="row">
        <div class="span12 say-cheese">
        <h2>Press the buttons to start and stop QR Code reading!</h2>
        <button type="button" class="btn" id="startQrReadButton">Start QR Reading</button>
        <button type="button" class="btn" id="stopQrReadButton">Stop QR Reading</button>
        
          <div id="say-cheese-container">
            <div id="action-buttons">
              <button class="btn btn-success" id="take-snapshot">snap!</button>
            </div>
          </div>
          <div id="say-cheese-snapshots"></div>
        </div>
      </div>
      <div class="row">
      <div class="col-xs-6">
        <div class="well">
            <h3>Output of read</h3>
            <p id="qrSuccessOutput"></p>
          </div>
        </div>
      </div>

      <div class="row">
        <div class="span6">
          <h3>Taking pictures</h3>
          <p><strong>Say Cheese</strong> exposes a simple, event-based API for taking snapshots from your webcam:</p>

{% highlight javascript %}
$(function() {
  var sayQr = new SayQRCode('#container-element', { snapshots: true });
  sayQr.on('start', function() {
    this.takeSnapshot();
  });

  sayQr.on('snapshot', function(snapshot) {
    // a snapshot has been taken, do something with it :)
  });

  sayQr.on('qrReadSuccess', function(data) {
    // Do something with the data.
  });
  sayQr.start();
  sayQr.startQrRead(1000); // try to decode the image every 1 second.
});
{% endhighlight %}

        </div>
        <div class="span6">
          <h3>Compatibility</h3>
          <p><strong>Works for the following browsers:</strong></p>
          <ul>
            <li>Google Chrome
            <li>Opera
            <li>Firefox
          </ul>
        </div>
      </div>

      <div class="row">
        <div class="span12">
          <h3>Source and documentation</h3>
          <p>You can nab the source and see some slightly more detailed
            documentation at the <a href="http://github.com/tlangs/say-cheese-qr">GitHub repo</a>.
            Feel free to file any issues or patches or whatever.</p>
        </div>
      </div>
    </div>

    </div>
    <footer>
      <div class="container">
        <hr>
        <p>Say Cheese QR Code Edition hacked together by <a href="www.herewebe.net">Trevyn Langsford</a>, 2014</p>
        <p>Say Cheese cobbled together by <a href="http://leemach.in">Lee Machin</a>, 2012</p>
      </div>
    </footer>


    <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.8.1/jquery.min.js"></script>
    <script src="public/js/bootstrap.min.js"></script>
    <script src="js/jsqrcode-combined.min.js"></script>
    <script src="js/say-cheese-qr.js"></script>
    <script>
      
        var sayCheeseQr = new SayQRCode('#say-cheese-container', { snapshots: true });

        sayCheeseQr.on('start', function() {
          $('#action-buttons').fadeIn('fast');

          $('#take-snapshot').on('click', function(evt) {
            sayCheeseQr.takeSnapshot();
          });
        });
        sayCheeseQr.on('qrReadSuccess', function(data) {
          $('#qrSuccessOutput').text(data);
        })

        $('#startQrReadButton').on('click', function(event) {
          sayCheeseQr.startQrRead(1000);
        });

        $('#stopQrReadButton').on('click', function(event) {
          sayCheeseQr.stopQrRead();
        });

        sayCheeseQr.on('error', function(error) {
          var $alert = $('<div>');
          $alert.addClass('alert alert-error').css('margin-top', '20px');

          if (error === 'NOT_SUPPORTED') {
            $alert.html("<strong>:(</strong> your browser doesn't support video yet!");
          } else if (error === 'AUDIO_NOT_SUPPORTED') {
            $alert.html("<strong>:(</strong> your browser doesn't support audio yet!");
          } else {
            $alert.html("<strong>:(</strong> you have to click 'allow' to try me out!");
          }

          $('.say-cheese').prepend($alert);
        });

        sayCheeseQr.on('snapshot', function(snapshot) {
          var img = document.createElement('img');

          $(img).on('load', function() {
            $('#say-cheese-snapshots').prepend(img);
          });
          img.src = snapshot.toDataURL('image/png');
        });

        sayCheeseQr.start();
      
    </script>
  </body>
</html>
